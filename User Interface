#include <QApplication>
#include <QMainWindow>
#include <QTreeView>
#include <QListView>
#include <QFileSystemModel>
#include <QSplitter>
#include <QToolBar>

int main(int argc, char *argv[])
{
    QApplication app(argc, argv);

    QMainWindow window;
    window.setWindowTitle("Simple File Manager");

    // File system model
    QFileSystemModel *model = new QFileSystemModel;
    model->setRootPath("/");

    // Folder tree (left)
    QTreeView *tree = new QTreeView;
    tree->setModel(model);
    tree->setRootIndex(model->index("/"));
    tree->setHeaderHidden(true);

    // File list (right)
    QListView *list = new QListView;
    list->setModel(model);
    list->setRootIndex(model->index("/"));

    // Sync tree â†’ list
    QObject::connect(tree, &QTreeView::clicked,
                     list, &QListView::setRootIndex);

    // Split view
    QSplitter *splitter = new QSplitter;
    splitter->addWidget(tree);
    splitter->addWidget(list);
    splitter->setStretchFactor(1, 1);

    // Toolbar
    QToolBar *toolbar = new QToolBar;
    toolbar->addAction("New Folder");
    toolbar->addAction("Delete");
    toolbar->addAction("Refresh");

    window.addToolBar(toolbar);
    window.setCentralWidget(splitter);
    window.resize(900, 600);
    window.show();

    return app.exec();
}

